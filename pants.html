<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>مخزن السراويل</title>
<style>
table{width:100%;border-collapse:collapse}
td,th{border:1px solid #ccc;padding:6px;text-align:center}
</style>
</head>
<body>

<h2>مخزن السراويل</h2>

<input id="name" placeholder="اسم جديد">
<input id="size" placeholder="المقاس">
<button onclick="addItem()">إضافة</button>

<table>
<thead>
<tr><th>الاسم</th><th>المقاس</th><th>الحالة</th></tr>
</thead>
<tbody id="data"></tbody>
</table>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSy...",
 authDomain: "costume17-79fe2.firebaseapp.com",
 projectId: "costume17-79fe2"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const COL="pants"; // ✳ غيرها حسب الصفحة

async function load(){
 let tbody=document.getElementById("data");
 tbody.innerHTML="";
 let snap=await getDocs(collection(db,COL));
 snap.forEach(d=>{
  let x=d.data();
  tbody.innerHTML+=`<tr>
  <td>${x.name}</td>
  <td>${x.size||"-"}</td>
  <td>${x.status}</td>
  </tr>`;
 });
}
load();

async function addItem(){
 let data={name:name.value,status:"متوفر"};
 if(size.value) data.size=size.value;
 await addDoc(collection(db,COL),data);
 load();
}

</script>
</body>
</html>
